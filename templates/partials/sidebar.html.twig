{# templates/partials/sidebar.html.twig #}
<aside class="w-64 bg-[#1F2732] min-h-screen flex flex-col">
    <div class="px-6 py-4">
        <div class="text-white text-2xl font-bold">SoloDesk</div>
        {% if app.user and app.user.company %}
            <div class="text-xs text-gray-400 mt-1 truncate">{{ app.user.company.name }}</div>
        {% endif %}
    </div>

    <nav class="flex-1 px-2 space-y-2">
        {% set menuItems = [
            {'route':'home', 'label':'Dashboard', 'icon':'home'},
            {'route':'app_project_index', 'label':'Projects', 'icon':'folder'},
            {'route':'app_estimate_index', 'label':'Pré-Estimations', 'icon':'file-text'},
            {'route':'app_payment_index', 'label':'Paiements', 'icon':'credit-card'},
            {'route':'app_sales_document_index', 'label':'Documents de Vente', 'icon':'file'},
            {'route':'app_client_index', 'label':'Clients', 'icon':'users'},
            {'route':'app_company_edit', 'label':'Entreprise', 'icon':'briefcase'}
        ] %}

        {% for item in menuItems %}
            <a href="{{ path(item.route) }}"
               class="group flex items-center px-4 py-3 rounded-md transition-colors
               {% if app.request.attributes.get('_route') starts with item.route %}bg-[#2A3747] text-white font-semibold{% else %}text-gray-400 hover:bg-[#2A3747] hover:text-white{% endif %}">
                {# Icône simple avec Heroicons #}
                <svg class="w-5 h-5 mr-3 text-gray-400 group-hover:text-white" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                    {% if item.icon == 'home' %}
                        <path stroke-linecap="round" stroke-linejoin="round" d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2h-4a2 2 0 0 1-2-2v-4H9v4a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V9z"/>
                    {% elseif item.icon == 'folder' %}
                        <path stroke-linecap="round" stroke-linejoin="round" d="M3 7h18M3 7v10a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V7M3 7l2-4h14l2 4"/>
                    {% elseif item.icon == 'file-text' %}
                        <path stroke-linecap="round" stroke-linejoin="round" d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6zM14 2v6h6"/>
                    {% elseif item.icon == 'credit-card' %}
                        <path stroke-linecap="round" stroke-linejoin="round" d="M2 6h20v12H2zM2 10h20"/>
                    {% elseif item.icon == 'file' %}
                        <path stroke-linecap="round" stroke-linejoin="round" d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6z"/>
                    {% elseif item.icon == 'users' %}
                        <path stroke-linecap="round" stroke-linejoin="round" d="M17 20h5v-2a4 4 0 0 0-4-4h-1M9 20h5v-2a4 4 0 0 0-4-4H9M12 12a4 4 0 1 0-4-4 4 4 0 0 0 4 4z"/>
                    {% elseif item.icon == 'briefcase' %}
                        <path stroke-linecap="round" stroke-linejoin="round" d="M10 6V5a2 2 0 0 1 2-2h0a2 2 0 0 1 2 2v1m-7 4h10m-11 4h12m-12 0v5a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2v-5m-12 0h12"/>
                    {% endif %}
                </svg>

                {{ item.label }}
            </a>
        {% endfor %}
    </nav>
</aside>
