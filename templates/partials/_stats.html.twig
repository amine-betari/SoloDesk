<div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-10">

    {% set cardConfig = [
        {title: 'Clients', value: clientCount, color: 'blue', link: path('app_client_index'), createLink: path('app_client_new'), createLabel: 'Nouveau client'},
        {title: 'Projets', value: projectCount, color: 'green', link: path('app_project_index'), createLink: path('app_project_new'), createLabel: 'Nouveau projet'},
        {title: 'Devis', value: estimateCount, color: 'yellow', link: path('app_estimate_index'), createLink: path('app_estimate_new'), createLabel: 'Nouveau devis'},
        {title: 'Factures', value: invoiceCount, color: 'red', link1: path('app_sales_document_index'), link2: path('app_invoice_new'), createLabel: 'Nouvelle facture'}
    ] %}

    {% set colors = {
        blue:  'text-blue-400',
        green: 'text-green-400',
        yellow:'text-yellow-400',
        red:  'text-red-400'
    } %}

    {% set links = {
        blue:  'text-blue-300',
        green: 'text-green-300',
        yellow:'text-yellow-300',
        red:  'text-red-300'
    } %}

    {% for card in cardConfig %}
        <div class="bg-gray-900 border border-gray-700 rounded-xl p-6 shadow-sm hover:shadow-md transition flex flex-col justify-between">

            <!-- Titre -->
            <h3 class="text-sm font-medium text-gray-400 uppercase tracking-wide">
                {{ card.title }}
            </h3>

            <!-- Valeur -->
            <p class="mt-2 text-4xl font-bold {{ colors[card.color] }}">
                {{ card.value }}
            </p>

            <!-- Actions -->
            <div class="mt-4 text-sm">
                {% if card.link is defined %}
                    {% if card.createLink is defined %}
                        <a href="{{ card.createLink }}" class="{{ links[card.color] }} hover:underline block btn-mobile">
                            + {{ card.createLabel }} →
                        </a>
                        <a href="{{ card.link }}" class="{{ links[card.color] }} hover:underline block mt-1 btn-mobile">
                            Voir {{ card.title|lower }} →
                        </a>
                    {% else %}
                        <a href="{{ card.link }}" class="{{ links[card.color] }} hover:underline btn-mobile inline-block">
                            Voir {{ card.title|lower }} →
                        </a>
                    {% endif %}
                {% elseif card.link1 is defined and card.link2 is defined %}
                    <a href="{{ card.link2 }}" class="{{ links[card.color] }} hover:underline block btn-mobile">
                        + {{ card.createLabel }} →
                    </a>
                    <a href="{{ card.link1 }}" class="{{ links[card.color] }} hover:underline block mt-1 btn-mobile">
                        Voir toutes les {{ card.title|lower }} →
                    </a>
                {% endif %}
            </div>

        </div>
    {% endfor %}
</div>
